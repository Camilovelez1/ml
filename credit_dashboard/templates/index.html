<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Predicci贸n del Modelo Random Forest</title>
    <!-- Referencia al archivo CSS -->
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
</head>
<body>
    <h1>Predicci贸n de Pago a Tiempo</h1>
    <form id="prediction_form" method="POST" action="/get_prediction">
        <label for="monthly_income">Monthly Income:</label>
        <input type="text" id="monthly_income" name="monthly_income" required><br><br>

        <label for="age">Age:</label>
        <input type="text" id="age" name="age" required><br><br>

        <label for="employment_years">Employment Years:</label>
        <input type="text" id="employment_years" name="employment_years" required><br><br>

        <label for="loan_amount">Loan Amount:</label>
        <input type="text" id="loan_amount" name="loan_amount" required><br><br>

        <label for="credit_score">Credit Score:</label>
        <input type="text" id="credit_score" name="credit_score" required><br><br>

        <label for="fecha_corte_year">Fecha Corte Year:</label>
        <input type="text" id="fecha_corte_year" name="fecha_corte_year" required><br><br>

        <label for="fecha_corte_month">Fecha Corte Month:</label>
        <input type="text" id="fecha_corte_month" name="fecha_corte_month" required><br><br>

        <label for="fecha_corte_day">Fecha Corte Day:</label>
        <input type="text" id="fecha_corte_day" name="fecha_corte_day" required><br><br>

        <label for="fecha_pago_year">Fecha Pago Year:</label>
        <input type="text" id="fecha_pago_year" name="fecha_pago_year" required><br><br>

        <label for="fecha_pago_month">Fecha Pago Month:</label>
        <input type="text" id="fecha_pago_month" name="fecha_pago_month" required><br><br>

        <label for="fecha_pago_day">Fecha Pago Day:</label>
        <input type="text" id="fecha_pago_day" name="fecha_pago_day" required><br><br>

        <button type="submit">Obtener Predicci贸n</button>
    </form>

    <br>
    <h2>Resultado:</h2>
    <div id="result"></div>

    <script>
        document.getElementById("prediction_form").onsubmit = function(event) {
            event.preventDefault();

            // Enviar el formulario a la API Flask
            var formData = new FormData(event.target);

            fetch('/get_prediction', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.prediction) {
                    document.getElementById("result").innerText = "Predicci贸n: " + data.prediction;
                } else if (data.error) {
                    document.getElementById("result").innerText = "Error: " + data.error;
                }
            });
        };
    </script>
</body>
</html>
